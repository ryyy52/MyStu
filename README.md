# 电商商品展示与购物车系统

## 项目简介

这是一个基于Java Web开发的电商商品展示与购物车系统，采用MVC架构，使用Servlet和JSP技术实现。系统包含商品管理、分类管理、购物车和订单管理等功能，支持管理员和普通用户两种角色。

## 技术栈

- **开发语言**：Java
- **框架**：Servlet + JSP
- **数据库**：MySQL
- **构建工具**：Maven
- **Web服务器**：Tomcat
- **数据库连接**：JDBC

## 功能模块

### 1. 用户管理
- 用户注册
- 用户登录
- 用户信息修改
- 角色权限管理（管理员/普通用户）

### 2. 商品管理
- 商品列表展示
- 商品详情查看
- 商品搜索
- 商品分类筛选
- 商品添加（管理员）
- 商品删除（管理员）
- 商品修改（管理员）

### 3. 分类管理
- 分类树结构展示
- 分类添加（管理员）
- 分类修改（管理员）
- 分类删除（管理员）

### 4. 购物车管理
- 添加商品到购物车
- 查看购物车
- 修改购物车商品数量
- 删除购物车商品

### 5. 订单管理
- 创建订单
- 查看订单列表
- 查看订单详情

## 项目结构

```
ecommerce-system
├── src/                      # 源代码目录
│   ├── main/                 # 主代码目录
│   │   ├── java/             # Java源代码
│   │   │   └── com/          # 包名
│   │   │       └── ecommerce/ # 项目包
│   │   │           ├── controller/  # 控制器层
│   │   │           ├── dao/         # 数据访问层
│   │   │           ├── pojo/        # 实体类
│   │   │           ├── service/     # 业务逻辑层
│   │   │           └── utils/       # 工具类
│   │   ├── resources/        # 资源文件
│   │   │   └── sql/          # SQL脚本
│   │   └── webapp/           # Web应用目录
│   │       ├── WEB-INF/       # Web配置目录
│   │       ├── *.jsp          # JSP页面
│   │       └── images/        # 图片资源
│   └── test/                  # 测试代码目录
├── target/                   # 构建输出目录
├── .gitignore                # Git忽略文件
├── pom.xml                   # Maven配置文件
└── README.md                 # 项目说明文档
```

## 环境要求

- **JDK**：1.8 或以上
- **Maven**：3.6 或以上
- **MySQL**：5.7 或以上
- **Tomcat**：7.0 或以上

## 数据库配置

1. 创建数据库：
   ```sql
   CREATE DATABASE IF NOT EXISTS ecommerce DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
   ```

2. 数据库配置文件：
   - 修改 `src/main/resources/db.properties` 文件，配置数据库连接信息
   - 默认用户名：`root`
   - 默认密码：`liuweifeng233`

## 项目部署

### 1. 编译打包

```bash
mvn clean compile package
```

### 2. 部署到Tomcat

- 将生成的 `target/ecommerce-system.war` 文件复制到Tomcat的 `webapps` 目录
- 启动Tomcat服务器
- 访问：`http://localhost:8080/ecommerce-system`

### 3. 直接运行（开发环境）

```bash
mvn tomcat7:run
```

- 访问：`http://localhost:8080/ecommerce-system`

## 初始数据

系统启动时会自动初始化数据库，包括：

- 管理员账户：`devuser` / `dev123456`
- 普通用户：`alice` / `alice123`
- 测试商品和分类数据

## 功能使用

### 1. 管理员功能

- 登录系统（使用管理员账户）
- 访问商品管理页面，添加、修改、删除商品
- 访问分类管理页面，添加、修改、删除分类

### 2. 普通用户功能

- 登录系统（使用普通用户账户）
- 浏览商品列表，查看商品详情
- 添加商品到购物车
- 查看购物车，修改商品数量，删除商品
- 创建订单，查看订单列表

## 注意事项

1. 图片存放位置：
   - 本地上传的图片会保存到 `webapp/images` 目录
   - 访问路径为：`/images/文件名`

2. 分类筛选：
   - 选择父类别时，会显示该类别及其所有子类别下的商品

3. 角色权限：
   - 管理员可以访问所有功能
   - 普通用户只能访问商品浏览、购物车和订单管理功能

## 开发说明

1. **代码规范**：
   - 采用MVC架构
   - 遵循Java命名规范
   - 代码中包含详细注释

2. **安全措施**：
   - 防止SQL注入
   - 防止XSS攻击
   - 防止CSRF攻击
   - 密码MD5加密

3. **性能优化**：
   - 数据库连接池
   - 分页查询
   - 图片懒加载

## 许可证

MIT License

## 联系方式

如有问题或建议，欢迎联系项目维护者。
